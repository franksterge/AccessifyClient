(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,a){e.exports=a.p+"static/media/pic2.5390b862.png"},144:function(e,t,a){e.exports=a.p+"static/media/profile.4b1299ce.png"},147:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(21),i=a.n(c),o=(a(81),a(7)),l=a(8),s=a(11),m=a(9),u=a(12),p=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).state={},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("video",{id:"video-player",style:{width:"100%"},controls:!0},r.a.createElement("source",{src:"https://accessify.herokuapp.com/video?name="+this.props.name,type:"video/mp4"})))}}]),t}(n.Component),h=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).roundHalf=function(e){return Math.round(2*e)/2},e.state={timestamp:[],transcription:{},time:null,playInterval:null},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="https://accessify.herokuapp.com/transcript?name=".concat(this.props.name);fetch(t).then(function(e){return e.json()}).then(function(t){e.setState({transcription:t})});var a=document.getElementById("video-player");a.addEventListener("playing",function(t){setInterval(function(){var t=Math.round(a.currentTime);e.state.timestamp.includes(t)||e.setState({timestamp:e.state.timestamp.concat(t)})},1e3)}),a.addEventListener("pause",function(){clearInterval(e.state.playInterval),e.setState({playInterval:null})})}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{style:{margin:"1rem"}},r.a.createElement("h4",null,"Transcription"),r.a.createElement("div",{id:"transcription"},this.state.timestamp.length>0&&this.state.timestamp.map(function(t){return r.a.createElement("p",null,r.a.createElement("span",null,"> :",t)," ",e.state.transcription[t]&&e.state.transcription[t])})))}}]),t}(n.Component),d=a(148),v=a(149),f=a(150),E=a(151),b=a(152),g=a(85),O=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).state={videos:null},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://accessify.herokuapp.com/getallvideos").then(function(e){return e.json()}).then(function(t){e.setState({videos:t})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",{style:{margin:"1rem"},className:"text-center"},"All Videos"),r.a.createElement(d.a,null,this.state.videos?this.state.videos.map(function(t){return r.a.createElement(v.a,{sm:"6",key:t},r.a.createElement(f.a,{style:{margin:"1rem"},onClick:function(){e.props.set(t)}},r.a.createElement(E.a,null,r.a.createElement(b.a,{top:!0,width:"100%",alt:t,src:"https://accessify.herokuapp.com/image?name=".concat(t,".png")}),r.a.createElement("div",{className:"text-center m-3"},r.a.createElement("h5",null,t.substring(0,1).toUpperCase()+t.replace(".mp4","").substring(1)),r.a.createElement(g.a,{onClick:function(){return e.setState({videoName:t})}},"View")))))}):r.a.createElement("div",null,"Server starting up!")))}}]),t}(n.Component),y=a(75),j=a(153),k=a(164),C=a(154),S=a(26),w=a.n(S),N=(a(132),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).updateValue=function(t,a){e.setState(Object(y.a)({},t,a))},e.sendComment=function(){var t=document.getElementById("video-player"),a=Math.round(t.currentTime),n=e.props.name.replace(".mp4","");e.postCaption(n,e.state.content,a),console.log("comment sent at: "+a+" "+e.state.content),e.setState({content:""})},e.postCaption=function(e,t,a){var n={};n[a]=t,console.log(n),w.a.database().ref(e).update(n).catch(function(e){console.log(e.message)})},e.state={content:""},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement(j.a,null,r.a.createElement(k.a,{addonType:"prepend"},r.a.createElement(g.a,{onClick:this.sendComment},"Send")),r.a.createElement(C.a,{onChange:function(t){return e.updateValue("content",t.target.value)},value:this.state.content}))}}]),t}(n.Component)),I=a(33),B=a(155),L=a(156),x=a(157),V=a(158),M=a(159),A=a(163),T=a(160),z=a(161),D=a(162),F=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).toggle=a.toggle.bind(Object(I.a)(Object(I.a)(a))),a.state={isOpen:!1},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement(B.a,{light:!0,expand:"md"},r.a.createElement(L.a,{href:"/",style:{fontSize:"50px",fontFamily:"Lucida Bright",marginLeft:25}}," ",r.a.createElement("img",{alt:"Logo",src:a(136),height:"50",width:"45"}),"Accessify"),r.a.createElement(x.a,{onClick:this.toggle}),r.a.createElement(V.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(M.a,{className:"ml-auto",navbar:!0},r.a.createElement(A.a,{nav:!0,inNavbar:!0,style:{fontSize:"18px",fontFamily:"Lucida Bright",marginRight:20}},r.a.createElement(T.a,{nav:!0,caret:!0},r.a.createElement("img",{src:a(144),alt:"user",height:"22",width:"22"})," User"),r.a.createElement(z.a,{right:!0},r.a.createElement(D.a,null,"Profile"),r.a.createElement(D.a,null,"Setting"),r.a.createElement(D.a,null,"Help&Support"),r.a.createElement(D.a,{divider:!0}),r.a.createElement(D.a,null,"Log Out"))))))}}]),t}(n.Component),J=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).componentDidMount=function(){var t=document.getElementById("video-player"),a=e.props.name.replace(".mp4",""),n=w.a.database().ref(a);setInterval(function(){n.once("value").then(function(a){if(console.log(a.val()),a.val()){for(var n={},r=0;r<t.currentTime;r++)null!=a.val()[r]&&(n[r]=a.val()[r]);e.setState({comments:n})}})},1e3)},e.state={comments:{},timer:null},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,Object.keys(this.state.comments).map(function(t){return r.a.createElement("p",null,"> "+t+" : "+e.state.comments[t])}))}}]),t}(n.Component),U=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).setVideoName=function(t){e.setState({videoName:t})},e.reset=function(){e.setState({videoName:null})},e.state={videoName:null},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(F,null),this.state.videoName?r.a.createElement("div",null,r.a.createElement(g.a,{style:{margin:"1rem"},onClick:function(){return e.reset()}},"Back"),r.a.createElement(d.a,null,r.a.createElement(v.a,{sm:"8"},r.a.createElement(p,{name:this.state.videoName}),r.a.createElement(h,{name:this.state.videoName})),r.a.createElement(v.a,{sm:"4"},r.a.createElement(J,{name:this.state.videoName}),r.a.createElement(N,{name:this.state.videoName})))):r.a.createElement("div",null,r.a.createElement(O,{set:this.setVideoName})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(145);w.a.initializeApp({apiKey:"AIzaSyCz0dJ74ApV0AT7Qc4QVhf20bLIpYGqmY0",authDomain:"realtime-captcha.firebaseapp.com",databaseURL:"https://realtime-captcha.firebaseio.com",projectId:"realtime-captcha",storageBucket:"realtime-captcha.appspot.com",messagingSenderId:"195816717898"}),i.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},76:function(e,t,a){e.exports=a(147)},81:function(e,t,a){}},[[76,2,1]]]);
//# sourceMappingURL=main.a561a898.chunk.js.map